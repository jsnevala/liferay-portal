@component-name = "portal-staging"
definition {
	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Site and Page Templates";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			Site.tearDownCP();

			PageTemplate.tearDownCP();
		}
	}

	@priority = "4"
	test AddPageTemplate {
		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.addCP(
			pageTemplateActive = "Yes",
			pageTemplateName = "Page Template Name"
		);
	}

	@priority = "5"
	test AddSitePageTemplate {
		property portal.acceptance = "true";
		property testray.component.names = "Training";

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.addCP(
			pageTemplateActive = "Yes",
			pageTemplateName = "Page Template Name"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Sites"
		);

		Site.addBlankCP(siteName = "Site Name");

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Sites"
		);

		Page.add(
			pageName = "Site Page",
			pageTemplateName = "Page Template Name",
			siteName = "Site Name"
		);

		Navigator.openSiteURL(siteName = "Site Name");

		Page.viewPageTemplate(
			page = "Site Page",
			pageTemplateName = "Page Template Name"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.gotoPageTemplateViaEdit(pageTemplateName = "Page Template Name");

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		SelectWindow(locator1 = "title=Page Template Name - ${siteName}");

		Portlet.addPG(portletName = "Blogs");

		Close.closeWindow(locator1 = "title=Page Template Name - ${siteName}");

		SelectWindow(locator1 = "title=Page Templates - Control Panel - ${siteName}");

		Navigator.gotoSitePage(pageName = "Site Page", siteName = "Site Name");

		Portlet.viewPG(portletName = "Blogs");

		SitePageNavigator.gotoEditPage(page = "Site Page");

		Page.togglePageTemplateInheritChanges(toggleValue = "disable");

		PortletEntry.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.gotoPageTemplateViaEdit(pageTemplateName = "Page Template Name");

		SelectWindow(locator1 = "title=Page Template Name - ${siteName}");

		Portlet.addPG(portletName = "Web Content Display");

		Close.closeWindow(locator1 = "title=Page Template Name - ${siteName}");

		SelectWindow(locator1 = "title=Page Templates - Control Panel - ${siteName}");

		Navigator.gotoSitePage(pageName = "Site Page", siteName = "Site Name");

		Portlet.viewNoSpecificPG(portletName = "Web Content Display");
	}

	@priority = "4"
	test DeactivateAndActivatePageTemplate {
		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.addCP(
			pageTemplateActive = "Yes",
			pageTemplateName = "Page Template Name"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.deactivateAndActivate(
			pageTemplateName = "Page Template Name",
			pageTemplateStatus = "No"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.viewStatus(
			pageTemplateName = "Page Template Name",
			pageTemplateStatus = "No"
		);

		ProductMenu.gotoSite(site = "${siteName}");

		SitePageNavigator.gotoPages(page = "Public Pages");

		SitePageNavigator.gotoAddPage();

		Page.viewPageTemplateTypeNotPresent(pageTemplateName = "Page Template Name");

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.deactivateAndActivate(
			pageTemplateName = "Page Template Name",
			pageTemplateStatus = "Yes"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.viewStatus(
			pageTemplateName = "Page Template Name",
			pageTemplateStatus = "Yes"
		);

		ProductMenu.gotoSite(site = "${siteName}");

		SitePageNavigator.gotoPages(page = "Public Pages");

		SitePageNavigator.gotoAddPage();

		Page.viewPageTemplateTypePresent(pageTemplateName = "Page Template Name");
	}

	@priority = "5"
	test DeletePageTemplate {
		property portal.acceptance = "true";

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.addCP(
			pageTemplateActive = "Yes",
			pageTemplateName = "Page Template Name"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.deleteCP(pageTemplateName = "Page Template Name");

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.viewDefaultCP(
			pageTemplateNameList = "Blog,Content Display Page,Wiki"
		);
	}

	@priority = "5"
	test EditPageTemplate {
		property portal.acceptance = "true";

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.addCP(
			pageTemplateActive = "Yes",
			pageTemplateName = "Page Template Name"
		);

		PageTemplate.editCP(
			pageTemplateActive = "No",
			pageTemplateName = "Page Template Name"
		);
	}

	@priority = "4"
	test EditPageTemplateDescription {
		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.addCP(
			pageTemplateActive = "Yes",
			pageTemplateName = "Page Template Name"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.editDescription(
			pageTemplateDescription = "This is a page template description",
			pageTemplateName = "Page Template Name"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.viewDescription(
			pageTemplateDescription = "This is a page template description edit",
			pageTemplateName = "Page Template Name"
		);
	}

	@priority = "5"
	test ImportLAR {
		property testray.component.names = "Training";

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		LAR.importPortlet(
			larFileName = "college-and-department-page-templates.lar",
			uploadFrom = "dependencies"
		);

		PageTemplate.viewCP(pageTemplateName = "College Landing Page");

		PageTemplate.viewCP(pageTemplateName = "Department Landing Page");

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		PageTemplate.viewPG(
			pageTemplateName = "College Landing Page",
			siteName = "${siteName}"
		);

		Portlet.viewSpecificPG(portletName = "Media Gallery");

		Portlet.viewDuplicatePG(
			portletName = "Web Content Display",
			totalPortletCount = "3"
		);

		Portlet.viewSpecificPG(portletName = "Asset Publisher");

		Close.closeWindow(locator1 = "title=College Landing Page - ${siteName}");

		SelectWindow(locator1 = "title=Page Templates - Control Panel - ${siteName}");

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.viewPG(
			pageTemplateName = "Department Landing Page",
			siteName = "${siteName}"
		);

		Portlet.viewSpecificPG(portletName = "Media Gallery");

		Portlet.viewDuplicatePG(
			portletName = "Web Content Display",
			totalPortletCount = "2"
		);

		Portlet.viewSpecificPG(portletName = "Members");

		Portlet.viewSpecificPG(portletName = "Navigation Menu");
	}

	@priority = "4"
	test LocalizeDefaultPageTemplates {
		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.viewDefaultCP(
			pageTemplateNameList = "Blog,Content Display Page,Wiki"
		);

		ProductMenu.gotoPortlet(
			category = "My Account",
			panel = "User",
			portlet = "Account Settings"
		);

		MyAccount.changeUserLanguage(
			languageName = "español (España)",
			saveButton = "Save",
			successMessage = "Su petición ha terminado con éxito."
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Sitios web",
			panel = "Control Panel",
			portlet = "Plantillas de página"
		);

		PageTemplate.viewDefaultLocalizedCP(
			pageTemplateDescriptionList = "edite y vea blogs desde esta página. Explore los temas usando etiquetas y conecte con otros miembros del blog.,edite y explore contenidos web de esta página. Busque contenido adicional, explore contenido relacionado con etiquetas y hojee las categorías del contenido.,Colabora con los miembros a través de la wiki en esta página. Descubre el contenido relacionado a través de etiquetas y navega rápida y fácilmente por las categorías.",
			pageTemplateNameList = "Blog,Seleccione una página de visualización,Wiki"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Mi cuenta",
			panel = "User",
			portlet = "Mi cuenta"
		);

		MyAccount.changeUserLanguage(
			languageName = "English (United States)",
			saveButton = "Guardar",
			successMessage = "Your request completed successfully."
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.viewDefaultCP(
			pageTemplateNameList = "Blog,Content Display Page,Wiki"
		);
	}

	@priority = "4"
	test ViewEditedPageTemplatePageName {
		property testray.component.names = "Site and Page Templates";

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.addCP(
			pageTemplateActive = "Yes",
			pageTemplateName = "Page Template Name"
		);

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		PageTemplate.viewPG(
			pageTemplateName = "Page Template Name",
			siteName = "${siteName}"
		);

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Page Templates"
		);

		PageTemplate.editCP(
			pageTemplateActive = "Yes",
			pageTemplateName = "Page Template Name"
		);

		PageTemplate.viewPG(
			pageTemplateName = "Page Template Name Edit",
			siteName = "${siteName}"
		);
	}
}